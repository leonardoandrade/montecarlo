<!DOCTYPE html>
  <head>
    <title>WebAssembly Example</title>
  </head>
  <body>
    
    <p> A random number: <span id="random">0</span></p>
   
    <br>
    <button id="start_button">Start</button>
    <button id="stop_button">Stop</button>

  </body>
  
  <!-- js glue code, this file is generated by the compiler -->
  <script src="montecarlo-pi.js"></script>
  <!-- functions for access from C code -->
  <script>


    let stopped = true;
    const loop = ()=> {
      if(stopped) {
        return;
      }
      const field = document.getElementById('random');
      const result = _random_number();
      field.innerHTML = "" + result;
      setTimeout(loop,500);
    };
    
    document.getElementById('start_button').addEventListener('click', () => {
      stopped=false;
      loop();
    });
    
    document.getElementById('stop_button').addEventListener('click', () => {
      stopped=true;
    });
    
  </script>
</html> 

